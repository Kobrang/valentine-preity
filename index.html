<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will you be my Valentine, Preity? üíï</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Patrick+Hand&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Patrick Hand', cursive;
            background: linear-gradient(135deg, #ffd6e8 0%, #ffe0f0 50%, #ffd6e8 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            position: relative;
            transition: background 0.5s ease;
        }

        body.celebrate {
            background: linear-gradient(135deg, #ffb3d9 0%, #ffc9e5 50%, #ffb3d9 100%);
        }

        /* Floating Hearts Background */
        .heart-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .floating-heart {
            position: absolute;
            font-size: 20px;
            opacity: 0.3;
            animation: float-up linear infinite;
        }

        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Heart Explosion Effect */
        .heart-explosion {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 1000;
        }

        .explosion-heart {
            position: absolute;
            font-size: 30px;
            animation: explode 1.5s ease-out forwards;
        }

        @keyframes explode {
            0% {
                transform: translate(0, 0) scale(0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(1);
                opacity: 0;
            }
        }

        /* Main Container */
        .container {
            text-align: center;
            padding: 2rem;
            max-width: 600px;
            width: 100%;
            position: relative;
            z-index: 1;
        }

        h1 {
            font-family: 'Caveat', cursive;
            font-size: 2.8rem;
            color: #d63384;
            margin-bottom: 2rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            line-height: 1.4;
            font-weight: 700;
        }

        .gif-container {
            margin: 2rem auto;
            max-width: 350px;
            border-radius: 30px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(214, 51, 132, 0.3);
        }

        .gif-container img {
            width: 100%;
            height: auto;
            display: block;
        }

        .button-container {
            margin-top: 3rem;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        button {
            font-size: 1.4rem;
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            font-family: 'Patrick Hand', cursive;
        }

        #yesBtn {
            background: linear-gradient(135deg, #ff6b9d 0%, #ff8fab 100%);
            color: white;
            transform: scale(1.1);
        }

        #yesBtn:hover {
            transform: scale(1.2);
            box-shadow: 0 8px 25px rgba(255, 107, 157, 0.5);
        }

        #noBtn {
            background: linear-gradient(135deg, #ffd6e8 0%, #ffcce0 100%);
            color: #d63384;
            transition: all 0.2s ease;
        }

        .message-box {
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 30px;
            margin-top: 2rem;
            box-shadow: 0 10px 40px rgba(214, 51, 132, 0.2);
            font-size: 1.3rem;
            line-height: 1.8;
            color: #d63384;
            animation: fadeIn 0.8s ease;
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 1s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Page 2 Styles */
        .final-page {
            max-width: 700px;
            padding: 3rem 2rem;
        }

        .final-page h1 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
        }

        .final-page .message-box {
            font-size: 1.4rem;
            line-height: 2;
        }

        /* Music Indicator */
        .music-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-size: 0.9rem;
            color: #d63384;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 100;
            animation: fadeIn 0.5s ease;
        }

        .music-wave {
            display: flex;
            gap: 3px;
            height: 15px;
            align-items: flex-end;
        }

        .music-wave span {
            width: 3px;
            background: #ff6b9d;
            border-radius: 2px;
            animation: wave 0.8s ease-in-out infinite;
        }

        .music-wave span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .music-wave span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes wave {
            0%, 100% {
                height: 5px;
            }
            50% {
                height: 15px;
            }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 2.2rem;
            }
            
            button {
                font-size: 1.2rem;
                padding: 0.9rem 2rem;
            }

            .message-box {
                font-size: 1.1rem;
                padding: 1.5rem;
            }

            .final-page h1 {
                font-size: 2rem;
            }

            .final-page .message-box {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Hearts Background -->
    <div class="heart-container" id="heartContainer"></div>

    <!-- Heart Explosion Container -->
    <div class="heart-explosion" id="heartExplosion"></div>

    <div class="container">
        <!-- Page 1: Proposal -->
        <div id="page1">
            <h1>Will you be my Valentine, Preity? üíï</h1>
            <div class="gif-container">
                <img id="mainGif" src="puppy.gif" alt="Puppy with begging eyes">
            </div>
            <div class="button-container">
                <button id="yesBtn">Yes ‚ù§Ô∏è</button>
                <button id="noBtn">No üòù</button>
            </div>
            <div id="celebrationMessage" class="message-box hidden">
                In this beautiful day which is Valentine's Day, I'm not able to be by your side because our college is on holiday, but when we meet the next time I'll hug you and give you kisses üíãüíï
            </div>
            <div id="countdownTimer" class="message-box hidden" style="font-size: 3rem; font-weight: bold; padding: 1rem;">
                <span id="countdown">5</span>
            </div>
        </div>

        <!-- Page 2: Final Message -->
        <div id="page2" class="hidden final-page">
            <h1 class="fade-in">Happy Valentine's Day! üíñ</h1>
            <div class="message-box fade-in">
                You make every single day brighter just by being in it. I love how much we laugh together, and I couldn't imagine spending today with anyone else. You're my absolute favorite person, today and always. ‚ù§Ô∏è
            </div>
        </div>
    </div>

    <!-- Music Indicator -->
    <div id="musicIndicator" class="music-indicator hidden">
        <div class="music-wave">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <span>Playing: Nachom Leirang</span>
    </div>

    <!-- Audio Element -->
    <audio id="bgMusic" preload="auto">
        <source src="song.m4a" type="audio/mp4">
    </audio>

    <script>
        // Elements
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const page1 = document.getElementById('page1');
        const page2 = document.getElementById('page2');
        const mainGif = document.getElementById('mainGif');
        const celebrationMessage = document.getElementById('celebrationMessage');
        const heartExplosion = document.getElementById('heartExplosion');
        const bgMusic = document.getElementById('bgMusic');
        const musicIndicator = document.getElementById('musicIndicator');

        // No button text progression
        const noTexts = [
            "It's yes",
            "Nope you can't no me",
            "Tap yes and see the magic na ü•∫"
        ];
        let noClickCount = 0;

        // Create floating hearts
        function createFloatingHearts() {
            const heartContainer = document.getElementById('heartContainer');
            const heartCount = 15;
            
            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.textContent = 'üíï';
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDuration = (Math.random() * 5 + 8) + 's';
                heart.style.animationDelay = Math.random() * 5 + 's';
                heart.style.fontSize = (Math.random() * 10 + 15) + 'px';
                heartContainer.appendChild(heart);
            }
        }

        // No button playful interaction
        noBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Change text
            if (noClickCount < noTexts.length) {
                noBtn.textContent = noTexts[noClickCount];
                noClickCount++;
            }
            
            // Mild movement
            const randomX = (Math.random() - 0.5) * 100;
            const randomY = (Math.random() - 0.5) * 50;
            
            noBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
            
            setTimeout(() => {
                noBtn.style.transform = 'translate(0, 0)';
            }, 300);
        });

        // Heart explosion animation
        function createHeartExplosion() {
            heartExplosion.innerHTML = '';
            const heartCount = 20;
            
            for (let i = 0; i < heartCount; i++) {
                const heart = document.createElement('div');
                heart.className = 'explosion-heart';
                heart.textContent = ['‚ù§Ô∏è', 'üíï', 'üíñ', 'üíó', 'üíù'][Math.floor(Math.random() * 5)];
                
                const angle = (i / heartCount) * Math.PI * 2;
                const distance = 150 + Math.random() * 100;
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                heart.style.setProperty('--tx', tx + 'px');
                heart.style.setProperty('--ty', ty + 'px');
                
                heartExplosion.appendChild(heart);
            }
            
            setTimeout(() => {
                heartExplosion.innerHTML = '';
            }, 1500);
        }

        const audio = document.getElementById("bgMusic");
        // Yes button click handler
        yesBtn.addEventListener('click', function() {
            audio.play();
            // Change background
            document.body.classList.add('celebrate');
            
            // Create heart explosion
            createHeartExplosion();
            
            // Change GIF to Happy Valentine's Day celebration
            mainGif.src = 'happyvalentine.gif';
            
            // Hide buttons
            yesBtn.classList.add('hidden');
            noBtn.classList.add('hidden');
            
            // Show celebration message
            celebrationMessage.classList.remove('hidden');
            
            // Play music
            bgMusic.volume = 0.5;
            bgMusic.play().catch(err => {
                console.log('Music autoplay prevented:', err);
            });
            musicIndicator.classList.remove('hidden');
            
            // Transition to page 2 after delay
            setTimeout(() => {
                celebrationMessage.classList.add('hidden');
                const countdownTimer = document.getElementById('countdownTimer');
                const countdownNum = document.getElementById('countdown');
                countdownTimer.classList.remove('hidden');
                
                let timeLeft = 5;
                countdownNum.textContent = timeLeft;
                
                const countdownInterval = setInterval(() => {
                    timeLeft--;
                    if (timeLeft > 0) {
                        countdownNum.textContent = timeLeft;
                    } else {
                        clearInterval(countdownInterval);
                        // Transition to page 2
                        page1.classList.add('hidden');
                        page2.classList.remove('hidden');
                    }
                }, 1000);
            }, 5000);
        });

        // Initialize floating hearts
        createFloatingHearts();

        // Handle music play/pause on visibility change
        document.addEventListener('visibilitychange', function() {
            if (document.hidden && !bgMusic.paused) {
                bgMusic.pause();
            }
        });
    </script>
    <audio id="bgMusic" src="song.m4a"></audio>
</body>
</html>
